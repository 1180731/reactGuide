<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <script type="text/babel">
    const allItems = ['apple', 'orange', 'grape', 'pear']

    function FormElements() {
      const [values, setValues] = React.useState([])
      const commaValues = values.join(',')
      const selectValues = values.filter(value => allItems.includes(value))
      const multilineValues = values.join('\n')

      function handleCommaChange(event) {
        setValues(event.target.value.split(','))
      }

      function handleMultilineChange(event) {
        setValues(event.target.value.split('\n'))
      }

      function handleSelectChange(event) {
        const selectedOptions = Array.from(event.target.selectedOptions)
        const selectedValues = selectedOptions.map(option => option.value)
        setValues(selectedValues)
      }

      function handleCheckboxChange(event) {
        let valuesCopy = [...values]
        if (valuesCopy.includes('grape')) {
          valuesCopy = valuesCopy.filter(value => value !== 'grape')
        } else {
          valuesCopy.push('grape')
        }
        setValues(valuesCopy)
      }

      function handleSubmit(event) {
        event.preventDefault()
        console.log(event.target.elements)
      }

      return (
        <form onSubmit={handleSubmit}>
          <div>
            <label htmlFor="textInput">Text: </label>
            <input
              id="textInput"
              type="text"
              value={commaValues}
              onChange={handleCommaChange}
              style={{width: 140}}
            />
          </div>
          <div>
            <label htmlFor="textareaInput">Textarea: </label>
            <textarea
              id="textareaInput"
              value={multilineValues}
              onChange={handleMultilineChange}
              style={{height: 60}}
            />
          </div>
          <div>
            <label htmlFor="multiSelectField">Multi-select </label>
            <select
              id="multiSelectField"
              multiple
              value={values}
              onChange={handleSelectChange}
            >
              <option value="apple">apple</option>
              <option value="orange">orange</option>
              <option value="grape">grape</option>
              <option value="pear">pear</option>
            </select>
          </div>
          <div>
            <label htmlFor="checkboxInput">Has grape: </label>
            <input
              id="checkboxInput"
              type="checkbox"
              checked={values.includes('grape')}
              onChange={handleCheckboxChange}
            />
          </div>
          <button type="submit">Submit</button>
        </form>
      )
    }

    ReactDOM.render(<FormElements />, document.getElementById('root'))
  </script>
</body>
